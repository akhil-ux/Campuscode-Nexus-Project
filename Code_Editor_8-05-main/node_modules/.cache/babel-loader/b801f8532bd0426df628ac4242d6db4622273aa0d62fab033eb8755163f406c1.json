{"ast":null,"code":"import { json } from \"react-router-dom\";\nconst languageCodeMap = {\n  cpp: 54,\n  python: 92,\n  javascript: 93,\n  java: 91\n};\nasync function getSubmission(tokenId, callback) {\n  const url = `https://judge0-ce.p.rapidapi.com/submissions/${tokenId}?base64_encoded=true&fields=*`;\n  const options = {\n    method: 'GET',\n    headers: {\n      'x-rapidapi-key': '105623b674msh9efb86c825a72b9p144c2ajsn183dd87575e6',\n      'x-rapidapi-host': 'judge0-ce.p.rapidapi.com'\n    }\n  };\n  try {\n    const response = await fetch(url, options);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    callback({\n      apistatus: 'error',\n      messgae: json.stringify(error)\n    });\n  }\n}\nexport async function makesubmission(code, language, callback, stdin) {\n  const url = 'https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=true&wait=false&fields=*';\n  const httpOptions = {\n    method: 'POST',\n    headers: {\n      'x-rapidapi-key': '105623b674msh9efb86c825a72b9p144c2ajsn183dd87575e6',\n      'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      language_id: languageCodeMap[language],\n      source_code: btoa(code),\n      stdin: btoa(stdin)\n    })\n  };\n  try {\n    callback({\n      apistatus: 'loading'\n    });\n    const response = await fetch(url, httpOptions);\n    const result = await response.json();\n    const tokenId = result.token;\n    let statusCode = 1;\n    let apiSubmissionResult;\n    while (statusCode === 1 || statusCode === 2) {\n      try {\n        apiSubmissionResult = await getSubmission(tokenId);\n        statusCode = apiSubmissionResult.status.id;\n      } catch (error) {\n        callback({\n          apistatus: 'error',\n          messgae: json.stringify(error)\n        });\n        return;\n      }\n    }\n    if (apiSubmissionResult) {\n      callback({\n        apistatus: 'success',\n        data: apiSubmissionResult\n      });\n    }\n  } catch (error) {\n    callback({\n      apistatus: 'error',\n      messgae: json.stringify(error)\n    });\n  }\n}","map":{"version":3,"names":["json","languageCodeMap","cpp","python","javascript","java","getSubmission","tokenId","callback","url","options","method","headers","response","fetch","result","error","apistatus","messgae","stringify","makesubmission","code","language","stdin","httpOptions","body","JSON","language_id","source_code","btoa","token","statusCode","apiSubmissionResult","status","id","data"],"sources":["D:/psit/campuscode nexus/Code_Editor_8-05-main/src/screens/PlaygroundScreen/service.js"],"sourcesContent":["import { json } from \"react-router-dom\";\r\n\r\nconst languageCodeMap =\r\n{\r\n    cpp: 54,\r\n    python: 92,\r\n    javascript: 93,\r\n    java: 91,\r\n}\r\nasync function getSubmission(tokenId, callback) {\r\n    const url = `https://judge0-ce.p.rapidapi.com/submissions/${tokenId}?base64_encoded=true&fields=*`;\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'x-rapidapi-key': '105623b674msh9efb86c825a72b9p144c2ajsn183dd87575e6',\r\n            'x-rapidapi-host': 'judge0-ce.p.rapidapi.com'\r\n        }\r\n    };\r\n    try {\r\n        const response = await fetch(url, options);\r\n        const result = await response.json();\r\n        return result;\r\n    }\r\n    catch (error) {\r\n        callback({ apistatus: 'error', messgae: json.stringify(error) })\r\n    }\r\n}\r\n\r\nexport async function makesubmission(code, language, callback, stdin) {\r\n    const url = 'https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=true&wait=false&fields=*';\r\n    const httpOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n            'x-rapidapi-key': '105623b674msh9efb86c825a72b9p144c2ajsn183dd87575e6',\r\n            'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            language_id: languageCodeMap[language],\r\n            source_code: btoa(code),\r\n            stdin: btoa(stdin),\r\n        })\r\n    }\r\n\r\n    try {\r\n        callback({ apistatus: 'loading' })\r\n        const response = await fetch(url, httpOptions);\r\n        const result = await response.json();\r\n        const tokenId = result.token;\r\n        let statusCode = 1;\r\n        let apiSubmissionResult;\r\n        while (statusCode === 1 || statusCode === 2) {\r\n            try {\r\n                apiSubmissionResult = await getSubmission(tokenId);\r\n                statusCode = apiSubmissionResult.status.id;\r\n            }\r\n            catch (error) {\r\n                callback({ apistatus: 'error', messgae: json.stringify(error) })\r\n                return;\r\n            }\r\n        }\r\n        if (apiSubmissionResult) {\r\n            callback({ apistatus: 'success', data: apiSubmissionResult })\r\n        }\r\n    }\r\n    catch (error) {\r\n        callback({\r\n            apistatus: 'error',\r\n            messgae: json.stringify(error),\r\n        })\r\n\r\n    }\r\n}"],"mappings":"AAAA,SAASA,IAAI,QAAQ,kBAAkB;AAEvC,MAAMC,eAAe,GACrB;EACIC,GAAG,EAAE,EAAE;EACPC,MAAM,EAAE,EAAE;EACVC,UAAU,EAAE,EAAE;EACdC,IAAI,EAAE;AACV,CAAC;AACD,eAAeC,aAAaA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EAC5C,MAAMC,GAAG,GAAG,gDAAgDF,OAAO,+BAA+B;EAClG,MAAMG,OAAO,GAAG;IACZC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,gBAAgB,EAAE,oDAAoD;MACtE,iBAAiB,EAAE;IACvB;EACJ,CAAC;EACD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAEC,OAAO,CAAC;IAC1C,MAAMK,MAAM,GAAG,MAAMF,QAAQ,CAACb,IAAI,CAAC,CAAC;IACpC,OAAOe,MAAM;EACjB,CAAC,CACD,OAAOC,KAAK,EAAE;IACVR,QAAQ,CAAC;MAAES,SAAS,EAAE,OAAO;MAAEC,OAAO,EAAElB,IAAI,CAACmB,SAAS,CAACH,KAAK;IAAE,CAAC,CAAC;EACpE;AACJ;AAEA,OAAO,eAAeI,cAAcA,CAACC,IAAI,EAAEC,QAAQ,EAAEd,QAAQ,EAAEe,KAAK,EAAE;EAClE,MAAMd,GAAG,GAAG,sFAAsF;EAClG,MAAMe,WAAW,GAAG;IAChBb,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,gBAAgB,EAAE,oDAAoD;MACtE,iBAAiB,EAAE,0BAA0B;MAC7C,cAAc,EAAE;IACpB,CAAC;IACDa,IAAI,EAAEC,IAAI,CAACP,SAAS,CAAC;MACjBQ,WAAW,EAAE1B,eAAe,CAACqB,QAAQ,CAAC;MACtCM,WAAW,EAAEC,IAAI,CAACR,IAAI,CAAC;MACvBE,KAAK,EAAEM,IAAI,CAACN,KAAK;IACrB,CAAC;EACL,CAAC;EAED,IAAI;IACAf,QAAQ,CAAC;MAAES,SAAS,EAAE;IAAU,CAAC,CAAC;IAClC,MAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAEe,WAAW,CAAC;IAC9C,MAAMT,MAAM,GAAG,MAAMF,QAAQ,CAACb,IAAI,CAAC,CAAC;IACpC,MAAMO,OAAO,GAAGQ,MAAM,CAACe,KAAK;IAC5B,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAIC,mBAAmB;IACvB,OAAOD,UAAU,KAAK,CAAC,IAAIA,UAAU,KAAK,CAAC,EAAE;MACzC,IAAI;QACAC,mBAAmB,GAAG,MAAM1B,aAAa,CAACC,OAAO,CAAC;QAClDwB,UAAU,GAAGC,mBAAmB,CAACC,MAAM,CAACC,EAAE;MAC9C,CAAC,CACD,OAAOlB,KAAK,EAAE;QACVR,QAAQ,CAAC;UAAES,SAAS,EAAE,OAAO;UAAEC,OAAO,EAAElB,IAAI,CAACmB,SAAS,CAACH,KAAK;QAAE,CAAC,CAAC;QAChE;MACJ;IACJ;IACA,IAAIgB,mBAAmB,EAAE;MACrBxB,QAAQ,CAAC;QAAES,SAAS,EAAE,SAAS;QAAEkB,IAAI,EAAEH;MAAoB,CAAC,CAAC;IACjE;EACJ,CAAC,CACD,OAAOhB,KAAK,EAAE;IACVR,QAAQ,CAAC;MACLS,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAElB,IAAI,CAACmB,SAAS,CAACH,KAAK;IACjC,CAAC,CAAC;EAEN;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}